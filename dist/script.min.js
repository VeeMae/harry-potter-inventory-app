const harryPotterRepository=function(){const t=[],e="https://www.potterapi.com/v1/characters/?key=$2a$10$vQ/irCHphbHxnrgkhcfr8O4J/zM3mkvxwFkZ25Upq5RyrYZfzNz2i";function o(e){if(null===e||"object"!=typeof e)return"Not a valid Character. Please try again.";t.push(e)}function n(t){a().then(function(){c(t)})}function a(){return r(),fetch(e).then(function(t){return t.json()}).then(function(t){setTimeout(s,350),t.forEach(function(t){const e={name:t.name,house:t.house,role:t.role,school:t.school};void 0!==t.house&&o(e)})}).catch(function(t){console.error(t)})}function r(){document.querySelector("h3").classList.add("showMessage")}function s(){document.querySelector("h3").classList.add("hideMessage")}function c(t){const e=$(".modal-body"),o=$(".modal-title"),n=$(".modal-header");o.empty(),e.empty();const a=$("<h1>"+t.name+"</h1>"),r=$("<h2>"+t.house+"</h2>"),s=$("<h3>"+t.role+"</h3>"),c=$("<h4>"+t.school+"</h4>");o.append(a),e.append(r),e.append(s),e.append(c),n.append(o),n.append(e)}return{add:o,getAll:function(){return t},addListItem:function(t){const e=document.querySelector(".harrypotter-list"),o=document.createElement("li");o.classList.add("list-group-item");const a=document.createElement("button");a.innerText=t.name,a.setAttribute("data-target","#hpModal"),a.setAttribute("data-toggle","modal"),a.classList.add("char-button"),a.classList.add("btn"),o.appendChild(a),e.appendChild(o),a.addEventListener("click",function(e){n(t)})},showDetails:n,loadList:a,showLoadingMessage:r,hideLoadingMessage:s,showHpModal:c}}();harryPotterRepository.loadList().then(function(){harryPotterRepository.getAll().forEach(function(t){harryPotterRepository.addListItem(t)})});