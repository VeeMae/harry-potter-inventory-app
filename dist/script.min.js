const harryPotterRepository=function(){const t=[],e="http://hp-api.herokuapp.com/api/characters";function n(e){if(null===e||"object"!=typeof e)return"Not a valid Character. Please try again.";t.push(e)}function o(t){a().then(function(){r(t)})}function a(){return s(),fetch(e).then(function(t){return t.json()}).then(function(t){setTimeout(c,350),t.forEach(function(t){const e={name:t.name,house:t.house,species:t.species,ancestry:t.ancestry};""!==t.house&&""!==t.species&&n(e)})}).catch(function(t){console.error(t)})}function s(){document.querySelector("h3").classList.add("showMessage")}function c(){document.querySelector("h3").classList.add("hideMessage")}function r(t){const e=$(".modal-body"),n=$(".modal-title"),o=$(".modal-header");n.empty(),e.empty();const a=$("<h1>"+t.name+"</h1>"),s=$("<h2>"+t.house+"</h2>"),c=$("<h3>"+t.species+"</h3>"),r=$("<h4>"+t.ancestry+"</h4>");n.append(a),e.append(s),e.append(c),e.append(r),o.append(n),o.append(e)}return{add:n,getAll:function(){return t},addListItem:function(t){const e=document.querySelector(".harrypotter-list"),n=document.createElement("li");n.classList.add("list-group-item");const a=document.createElement("button");a.innerText=t.name,a.setAttribute("data-target","#hpModal"),a.setAttribute("data-toggle","modal"),a.classList.add("char-button"),a.classList.add("btn"),n.appendChild(a),e.appendChild(n),a.addEventListener("click",function(e){o(t)})},showDetails:o,loadList:a,showLoadingMessage:s,hideLoadingMessage:c,showHpModal:r}}();harryPotterRepository.loadList().then(function(){harryPotterRepository.getAll().forEach(function(t){harryPotterRepository.addListItem(t)})});